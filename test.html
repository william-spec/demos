<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>test</title>
  <link rel="stylesheet" href="./assets/font-awesome-4.7.0/css/font-awesome.min.css">
  <style>
  </style>
</head>
<body>
  
  <script>
    function createContent(data){
      let divs = [];    //临时div数组，用于保存框，append到页面上
      data.forEach((data) => {    //创建包裹图片的div，此时图片不显示
        let div = createDiv();
        let divText = createDivText();
        div.appendChild(divText);
        let divImg = createDivImg();
        div.appendChild(divImg);
        let detailDiv = createDetailDiv();
        let userPhoto = createUserPhoto();
        detailDiv.appendChild(userPhoto);
        let userName = createUserName();
        detailDiv.appendChild(userName);
        let updateTime = createUpdateTime();
        detailDiv.appendChild(updateTime);
        let comments = createComments();
        detailDiv.appendChild(comments);
        let stars = createStars();
        detailDiv.appendChild(stars);
        div.appendChild(detailDiv);
        divs.push(div);
      })
      // allDivs.push(...divs);    //添加到全局div数组中，用于判断是否进入视窗，懒加载
      return divs;
    }

    function createDiv(){   //创建包裹Div框
      let div = document.createElement('div');
      div.className = 'item';
      div.style.width = 200/* /data.width*data.height*/ + 'px' ;
      div.style.backgroundColor = '#DDDDDD';
      div.style.borderRadius = '10%';
      div.style.overflow = 'hidden';
      div.onclick = jumpToDetail;
      return div;
    }

    function createDivText(){   //创建顶部文字内容
      let divText = document.createElement('div');
      divText.style.width = '100%';
      divText.style.boxSizing = 'border-box';
      divText.style.wordBreak = 'break-all';
      divText.style.textAlign = 'left';
      divText.style.padding = '5px 5px';
      divText.style.fontSize = '13px';
      divText.style.backgroundColor = '#A8DBFD';
      divText.innerText = '123撒打算打算打算打算大撒打算打算打算打算大撒打算打算打算打算大撒打算打算打算打算大asdafsdfgrthytjuyjasdadasffsdfdgdfgdgzhuliye';
      return divText;
    }

    function createDivImg(){    //晒进度
      let divImg = document.createElement('img');
      divImg.style.width = '100%';
      divImg.style.height = 100 + 'px';
      divImg.style.display = 'block';
      return divImg;
    }

    function createDetailDiv(){   //创建底部框（用户，评论等）
      let detailDiv = document.createElement('div');
      detailDiv.style.position = 'relative';
      detailDiv.style.height = '38px';
      return detailDiv;
    }

    function createUserPhoto(){   //创建用户头像
      let userPhoto = document.createElement('div');
      userPhoto.style.width = 30 + 'px';
      userPhoto.style.height = 30 + 'px';
      userPhoto.style.borderRadius = '50%';
      userPhoto.style.border = '1px solid black';
      userPhoto.style.position = 'absolute';
      userPhoto.style.top = 2 + 'px';
      userPhoto.style.left = 2 + 'px';
      userPhoto.style.cursor = 'pointer';
      userPhoto.onclick = jumpToUserPost;   //跳到个人发布页
      return userPhoto;
    }

    function createUserName(){    //创建用户名
      let userName = document.createElement('div');
      userName.style.position = 'absolute';
      userName.innerText = '黑色幽默';
      userName.style.fontSize = '10px'
      userName.style.top = 2 + 'px';
      userName.style.left = 37 + 'px';
      userName.style.cursor = 'pointer';
      userName.onclick = jumpToUserPost;   //跳到个人发布页
      return userName;
    }

    function createUpdateTime(){    //创建发布时间
      let updateTime = document.createElement('div');
      updateTime.style.position = 'absolute';
      updateTime.innerText = '2021-9-5';
      updateTime.style.fontSize = '10px'
      updateTime.style.top = 2 + 'px';
      updateTime.style.right = 7 + 'px';
      return updateTime;
    }

    function createComments(){    //创建评论
      let comments = document.createElement('div');
      comments.innerHTML = `
        <i style= 'font-size: 14px;' class="fa fa-commenting-o" 
        aria-hidden="true"></i>
      `;
      comments.innerHTML += `
        <div style= 'border: none; font-size: 10px; 
        display: inline-block; width: 25px; width: 25px; position: relative;
        top: 4px; overflow: hidden; white-space: nowrap; 
        text-overflow: ellipsis;'>
          111222
        </div>
      `;
      comments.style.position = 'absolute';
      comments.style.top = 15 + 'px';
      comments.style.right = 7 + 'px';
      comments.style.cursor = 'pointer';
      comments.style.boxSizing = 'border-box';
      comments.onclick = jumpToDetail;    //跳到评论页
      return comments;
    }

    function createStars(){   //创建点赞
      let stars = document.createElement('div');
      stars.innerHTML = `
        <i style= 'font-size: 14px;' class="fa fa-heart-o" 
        aria-hidden="true"></i>
      `;
      stars.innerHTML += `
        <div style= 'border: none; font-size: 10px; 
        display: inline-block; width: 25px; position: relative;
        top: 4px; overflow: hidden; white-space: nowrap; 
        text-overflow: ellipsis;'>
          200
        </div>
      `;
      stars.style.position = 'absolute';
      stars.style.top = 15 + 'px';
      stars.style.right = 55 + 'px';
      stars.style.cursor = 'pointer';
      stars.style.boxSizing = 'border-box';
      stars.onclick = addStarsNumber;    //增加点赞数
      return stars;
    }

    function jumpToUserPost(){    //跳到个人发布页
      // 获取该用户信息，跳到该用户主页
      
      event.stopPropagation();    //阻止事件进一步冒泡
    }

    function addStarsNumber(){
      let num = this.children[1].innerText;
      this.children[1].innerText = ++num;
      event.stopPropagation();    //阻止事件进一步冒泡
    }

    function jumpToDetail(){
      // 跳转到详情页，可以编辑评论等
    }

    createContent([1]).forEach(content => {
      document.body.appendChild(content);
    })
  </script>
</body>
</html>